!function(){const e=["anchorTo","email","queueToken","totalDue"],t=["element"];function n(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;n[o]=e[o]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o(e,t,n,o,r,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,l,"next",e)}function l(e){o(a,r,i,s,l,"throw",e)}s(void 0)}))}}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}System.register(["./app-legacy.Dbq41J9R.js","./useSubscribeMessenger-legacy.BzzNQ2G_.js","./index-legacy.DYWIAPft.js"],(function(o,i){"use strict";var s,l,c,u,d,p,h,m,f,v,g,y,k,w,b,S,j,_,x,L,E,P,A,M,C,T,N,I,O,z,D,R,V,U,$,H,B,F,q,W,G,K,Q,J,Z,Y,X,ee,te,ne,oe,re,ie,ae,se,le,ce,ue,de,pe,he,me,fe,ve,ge,ye,ke,we,be,Se,je,_e,xe,Le,Ee,Pe,Ae,Me,Ce,Te,Ne,Ie,Oe,ze,De;return{setters:[e=>{s=e.aU,l=e.kz,c=e.bE,u=e.e2,d=e.at,p=e.aR,h=e.aS,m=e.eq,f=e.bP,v=e.et,g=e.ex,y=e.kA,k=e.gu,w=e.ah,b=e.q,S=e.c_,j=e.a,_=e.kB,x=e.ao,L=e.cj,E=e.ck,P=e.kC,A=e.ap,M=e.aw,C=e.eg,T=e.l,N=e.eE,I=e.kD,O=e.br,z=e.kE,D=e.el,R=e.kF,V=e.h9,U=e.h8,$=e.kG,H=e.eK,B=e.kH,F=e.kI,q=e.kJ,W=e.kK,G=e.kL,K=e.c4,Q=e.kM,J=e.kN,Z=e.kO,Y=e.g,X=e.kP,ee=e.cV,te=e.c,ne=e.e0,oe=e.g_,re=e.kQ,ie=e.kR,ae=e.kS,se=e.kT,le=e.kU,ce=e.hZ,ue=e.aW,de=e.kV},e=>{pe=e.p,he=e.S,me=e.u,fe=e.a,ve=e.M,ge=e.A,ye=e.b},e=>{ke=e.i,we=e.a,be=e.u,Se=e.b,je=e.c,_e=e.d,xe=e.e,Le=e.A,Ee=e.f,Pe=e.r,Ae=e.R,Me=e.P,Ce=e.g,Te=e.h,Ne=e.j,Ie=e.M,Oe=e.k,ze=e.l,De=e.m}],execute:function(){var Re=document.createElement("style");Re.textContent='[dir=ltr] .qdHCv{left:0}[dir=rtl] .qdHCv{right:0}.qdHCv{position:absolute;z-index:1000;top:0}.hgqpU{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1;background-color:rgba(0,0,0,.18);opacity:0;visibility:hidden;transition:opacity calc(var(--x-duration-base) * 5) cubic-bezier(.2,.9,.3,1)}.LTbS5{opacity:1;visibility:visible}.axmya{background-image:linear-gradient(180deg,rgba(0,0,0,0),rgba(0,0,0,.8) 55%)}.JHj7j{--popover-arrow-size: 2.5rem;position:relative;visibility:hidden;opacity:0;height:0;width:0;overflow:hidden;transform:scale(.1) matrix3d(1,0,0,0,0,.8,.5,-.002,0,-.4,.8,0,0,0,0,1);transition-timing-function:cubic-bezier(.2,.9,.3,1);transition-duration:var(--x-duration-base);transition-property:transform,opacity,block-size;transition-delay:var(--x-duration-base),var(--x-duration-base),0s}.JHj7j:after{box-shadow:0 19px 47px rgba(0,0,0,.35);content:"";z-index:-1;position:absolute;left:5%;right:5%;top:0;height:100%;width:90%;display:block}.JHj7j .hQvGd{min-width:calc(var(--popover-arrow-size) * 2)}.PMbsk:before{background-color:#fff;content:"";position:absolute;z-index:1;border-radius:var(--x-global-border-radius, var(--x-border-radius-base));display:block;transform:rotate(45deg);width:var(--popover-arrow-size);height:var(--popover-arrow-size)}.wA8HY{visibility:visible;opacity:1;height:auto;width:auto;overflow:initial;transform:scale(1) scaleZ(1)}[dir=rtl] .trTaz{transform-origin:100% 15%}[dir=rtl] .trTaz:before{top:20px;right:-8px}[dir=ltr] .trTaz{transform-origin:0% 15%}[dir=ltr] .trTaz:before{top:20px;left:-8px}.trTaz .hQvGd{min-height:calc(var(--popover-arrow-size) * 2)}[dir=rtl] .KMvI7{transform-origin:5% 0%}[dir=rtl] .KMvI7:before{left:20px;top:-8px}[dir=ltr] .KMvI7{transform-origin:95% 0%}[dir=ltr] .KMvI7:before{right:20px;top:-8px}.hQvGd{position:relative;z-index:2;display:flex;background-color:#fff;border-radius:var(--x-global-border-radius, var(--x-border-radius-base))}.xnzQ4{position:fixed;pointer-events:none;opacity:0}.B1y2m{display:block;border-radius:var(--x-global-border-radius, var(--x-border-radius-base))}\n/*$vite$:1*/',document.head.appendChild(Re);function Ve({children:e,offset:t,arrowOffset:n,contentWidth:o,contentHeight:r,placement:i="inlineEnd",activator:s,open:l}){const c=function(e){const[t,n]=w(null),o=b((()=>{null!==e&&n(e.getBoundingClientRect())}),[e]);return S((()=>(o(),window.addEventListener("resize",o),window.addEventListener("scroll",o),()=>{window.removeEventListener("resize",o),window.removeEventListener("scroll",o)})),[o]),t}(null!=s?s:null),[u,d]=function(){const[e,t]=w(null);return[e,b((e=>{null!==e&&t(e.getBoundingClientRect())}),[])]}(),{offsets:p,spacing:h}=f((()=>{var e,s;return l?function(e,t,n,o,{offset:r=0,arrowOffset:i=0}={}){var s,l,c,u;let d={x:0,y:0},p={left:0,right:0},h=0;if(!t&&!n)return{offsets:d,spacing:h};if(!o){const{clientWidth:e,clientHeight:o}=document.documentElement;return d={x:e/2-t/2,y:o/2-n/2},{offsets:d,spacing:h}}switch(e){case"blockEnd":d={x:"rtl"===(null!==(s=null===(l=document)||void 0===l?void 0:l.dir)&&void 0!==s?s:"ltr")?o.left:o.right-t,y:o.bottom+r};break;case"inlineEnd":d={x:"rtl"===(null!==(c=null===(u=document)||void 0===u?void 0:u.dir)&&void 0!==c?c:"ltr")?o.left-t-r:o.right+r,y:o.top+o.height/2-i}}return p=function(e,t){const n=document.documentElement.clientWidth,o=e.x+t;let r={left:0,right:0};return o>n&&(r=a(a({},r),{},{right:n-o})),e.x<0&&(r=a(a({},r),{},{left:-e.x})),r}(d,t),p.right&&!p.left?(d.x+=p.right,h=-10):!p.right&&p.left&&(d.x=0,h=10),{offsets:d,spacing:h}}(i,null!==(e=o||(null==u?void 0:u.width))&&void 0!==e?e:0,null!==(s=r||(null==u?void 0:u.height))&&void 0!==s?s:0,c,{offset:t,arrowOffset:n}):{offsets:{x:0,y:0},spacing:0}}),[t,n,i,u,c,l,o,r]),{x:m,y:v}=f((()=>l?function({x:e,y:t}){const n=window.devicePixelRatio||1;return{x:Math.round(e*n)/n||0,y:Math.round(t*n)/n||0}}({x:p.x+h+(window.scrollX||window.pageXOffset),y:p.y+(window.scrollY||window.pageYOffset)}):{x:0,y:0}),[p,h,l]),g=f((()=>l?(window.devicePixelRatio||1)<2?`translate(${m}px, ${v}px)`:`translate3d(${m}px, ${v}px, 0)`:"none"),[l,m,v]);return j(_,{children:j("div",{className:"qdHCv",style:a({},u&&{transform:g,MozTransform:g,WebkitTransform:g}),ref:d,"aria-hidden":!l,children:e})})}const Ue={Backdrop:"hgqpU","Backdrop-visible":"LTbS5",BackdropLinearGradient:"axmya",Popover:"JHj7j",Content:"hQvGd",PopoverArrow:"PMbsk",PopoverOpen:"wA8HY","Popover-placementInlineEnd":"trTaz","Popover-placementBlockEnd":"KMvI7",Bumper:"xnzQ4"},$e=E("Popover");function He({children:e,activator:t,open:n,placement:o="inlineEnd",contentWidth:r,contentHeight:i,onClose:a}){const s=x(null),l=x(null),c=x(null),u=L(void 0,$e),d=P(),p=b((()=>{"BUTTON"===(null==t?void 0:t.tagName)&&(null==t||t.setAttribute("aria-controls",u),null==t||t.setAttribute("aria-expanded",String(n)))}),[t,n,u]),h=b((e=>{null==a||a(e)}),[a]),m=b((e=>{var o;!(e.target instanceof Node)||null!=t&&t.contains(e.target)||!document.contains(e.target)||null!==(o=c.current)&&void 0!==o&&o.contains(e.target)||!n||h(e)}),[h,t,n,c]),f=b((e=>{if(n)switch(e.key){case"Escape":case"Esc":h(),null==t||t.focus()}}),[h,t,n]);A((()=>(document.addEventListener("click",m),()=>{document.removeEventListener("click",m)})),[m]),A((()=>(n&&document.addEventListener("keydown",f,!1),()=>{document.removeEventListener("keydown",f,!1)})),[n,f]),A((()=>{p()})),S((()=>{var e;n&&(null===(e=c.current)||void 0===e||e.focus({preventScroll:!0}))}),[n]);const v=e=>{const t=c.current;if(t){const n=e?N(t):I(t);n?n.focus():t.focus()}},g=M(Ue.Popover,Ue[C("Popover-placement",o)],n&&Ue.PopoverOpen,t&&Ue.PopoverArrow);return j(T,{children:[j(Ve,{activator:t,placement:o,offset:15,arrowOffset:30,open:n,contentWidth:r,contentHeight:i,children:[n&&j("button",{className:Ue.Bumper,ref:s,"aria-hidden":"true",onFocus:()=>v(!1),type:"button"}),j("div",{className:g,id:u,ref:c,children:j("div",{className:Ue.Content,children:e})}),n&&j("button",{className:Ue.Bumper,ref:l,"aria-hidden":"true",onFocus:()=>v(!0),type:"button"})]}),j("div",{className:M(Ue.Backdrop,n&&Ue["Backdrop-visible"],n&&d&&Ue.BackdropLinearGradient)})]})}var Be=(e=>(e.Normal="normal",e.CustomerAccount="customer_account",e.AccountsSameStore="accounts_same_store",e.AccountsCrossStore="accounts_cross_store",e))(Be||{});function Fe({email:e,skipVerifyOnLoad:t,iframeReady:n,iframeRef:o,dismissedModalKey:r,readyToDismiss:i,onReadyToDismiss:a,showPopover:s,showToggle:l,popoverActivator:u}){const d=c(),{inMemoryPayPalParts:{accountStatus:p}}=O(),{guestDismissedModalKey:m}=z(),{checkoutSessionIdentifier:f}=h(),g=D(),y=R(U.ShopPayVerification,{scope:V}),k=$().current.token;return A((()=>{if(t.current&&n)return void(t.current=!1);const i=d&&H(r),a=e&&B(e),s="connected"===p.value.status,l=d&&function(){const e=sessionStorage.getItem(Q);if(!e)return!1;const t=Number.parseInt(e,10);return!isNaN(t)&&Date.now()<t}();!n||!a||i||s||l||(y.peek()!==F.Verified?pe(null==o?void 0:o.current,{action:he.Create,email:e,flow:Be.Normal,disableAutoFocus:Boolean(sessionStorage.getItem(m))}):y.value=void 0)}),[e,n]),{onShow:function(){if(!f)throw new v({groupingHash:"ShopPayCheckoutIdentifierMissingError::GuestCheckout"});d&&H(r)||e&&B(e)&&(i||a(),k&&pe(null==o?void 0:o.current,{action:he.CheckoutQueueToken,queueToken:k}),g.setUserIdentified(escape(f)),q(U.SkipShopPay,"false"),window.dispatchEvent(new Event("shop_pay_user_identified_cookie_set")),y.value=F.Pending,sessionStorage.getItem(m)?null==l||l(!0):(s(!0,e),null==l||l(!1)))},onHidden:function(){var e;i&&(y.value=F.Dismissed,d&&W(r,"true"),null==u||null===(e=u.current)||void 0===e||e.focus(),s(!1),null==l||l(!0))},onLoggedIn:function(){G(),y.value=F.Verified,K.value="none"}}}const qe=[ge.FraudGuard,ge.InvalidPhone,ge.LimitExceeded,ge.PhoneBlocked];function We({email:e,onSetEmail:t,skipVerifyOnLoad:n,iframeReady:o,iframeRef:i,readyToDismiss:a,onReadyToDismiss:s,showPopover:l,popoverActivator:c,origin:u,open:d}){const{checkoutSessionIdentifier:p}=h(),{openModal:m}=J(),{exchangeSessionTokenForCookie:f}=me(),{extendBuyerIdentity:y}=fe(),k=x(null),w=x(!1),S=D(),j=b((()=>{i.current&&pe(i.current,{action:he.Create,email:"",flow:Be.Normal})}),[i]);function _(){return(_=r((function*(e){G(),K.value="none",e&&(yield f({token:e,origin:u}),y(),window.location.reload())}))).apply(this,arguments)}return A((()=>{i.current&&o&&u===g.C1ModalShopPaySignIn&&(pe(i.current,{action:he.AllowNoInitialEmail}),j(),pe(i.current,{action:he.Ready}))}),[o,i,u,j]),A((()=>{d&&(k.current=null)}),[d]),A((()=>{w.current&&i.current&&o&&(w.current=!1,j())})),A((()=>{function e(){var e;t&&(S.updateUserVerification({status:"none"}),t(""),null==c||null===(e=c.current)||void 0===e||e.focus()),w.current=!0}return window.addEventListener("shop_pay_verification_reset",e),()=>{window.removeEventListener("shop_pay_verification_reset",e)}}),[c,l,t,i,S]),A((()=>{o&&(n.current?n.current=!1:e&&B(e)&&u!==g.C1ModalShopPaySignIn?(S.updateUserVerification({email:e,status:"loading"}),pe(null==i?void 0:i.current,{action:he.Create,email:e,flow:Be.Normal})):u!==g.C1ModalShopPaySignIn&&(j(),S.updateUserVerification({status:"none"})))}),[e,o,n,i,u,S,j,l]),{onShow:function(){if(!p)throw new v({groupingHash:"ShopPayCheckoutIdentifierMissingError::ShopPayCheckout"});u===g.C1ModalShopPay&&e&&B(e)&&(a||s(),S.updateUserVerification({email:e,status:"found"}),l(!0,e))},onHidden:function(){if(u===g.C1ModalShopPay&&!a)return;const n=k.current;var o,r,i;null==t||null==n||"found"===n.status&&u!==g.C1ModalShopPay&&e||(t(null!==(o=n.email)&&void 0!==o?o:""),S.updateUserVerification(n),null==c||null===(r=c.current)||void 0===r||r.focus()),"found"===S.userVerification.status?m({type:Z.ContinueWithShopPay,email:S.userVerification.email}):null==c||null===(i=c.current)||void 0===i||i.focus(),l(!1),k.current=null},onEmailChange:function(e,t){e?(k.current||S.userVerification.email!==e)&&(k.current={email:e,status:t?"found":"new"}):k.current={status:"none"}},onError:function(e,t,n){if((!n||n===S.userVerification.email)&&(e===ve.ShopifyPayUserNotFound&&qe.includes(t)&&(l(!1),m({type:Z.Generic})),n)){const e=t===ge.InvalidEmail;S.updateUserVerification({email:n,status:e?"invalid":"new"})}},onLoggedIn:function(e){return _.apply(this,arguments)}}}function Ge({email:e,onSetEmail:t,open:n,popoverActivator:o,showPopover:r,showToggle:i,urlOrigin:a=g.C1Modal,updatedOrigin:b=a,onIframeLoaded:S}){const _=ee({base:"blockEnd",medium:"inlineEnd"}),[L,E]=w(!1),[P,M]=w(300),[C,T]=w(!1),N=te(),{checkoutSessionIdentifier:I}=h(),O=x(null),[z,R]=w(!1),V=D(),$=ne.flow.value===oe.UnauthenticatedUser,H=re(e,se),B=`${I}-${e.replace(/[^a-zA-Z0-9]/g,"")}`,F=ie(),W=x(F),{onShow:G,onHidden:Q,onError:J,onEmailChange:Z,onLoggedIn:le}=function(e){const t=Y(),n=x(e),o=n.current,r=e===n.current?void 0:`Callback hook changed from ${n.current.name} to ${e.name} between renders.`;return A((()=>{r&&t.notify(new X(`${r} Only the original hook is called.`,{groupingHash:"ShopPayError::OnlyOriginalHookCalled"}),{severity:"warning",errorClass:"ShopPay::ShopPayVerification::useStableHook"})}),[r,t]),o}($?We:Fe)({email:H,onSetEmail:t,skipVerifyOnLoad:W,iframeReady:L,iframeRef:O,dismissedModalKey:B,readyToDismiss:C,onReadyToDismiss:()=>{setTimeout((()=>T(!0)),1e3)},showPopover:r,showToggle:i,popoverActivator:o,origin:b,open:n});ye({targetId:a,onReady:G,onClosed:function(){R(!0)},onLoggedIn:le,onHidden:Q,onError:function(e,t,n){null==J||J(e,t,n),e===ve.ShopifyPayUserNotFound&&V.setUserIdentified(null),q(U.SkipShopPay,t===ge.LimitExceeded?I||"":"false"),window.dispatchEvent(new Event("shop_pay_user_identified_cookie_set"))},onResized:function(e){!isNaN(e)&&e&&M(e)},onLoaded:()=>{E(!0),S()},onEmailChange:Z}),A((()=>{pe(null==O?void 0:O.current,{action:he.OriginChanged,origin:b})}),[b]),A((()=>{const e=n?he.Ready:he.Hidden;pe(null==O?void 0:O.current,{action:e}),K.value=n?"shopPayVerification":"none",O.current&&n&&O.current.focus()}),[n]);const ce=(e=>{const t=s(),n=l(),o=c(),{iframe_token:r,redirect_url:i,transaction_params:a}=u(),{locale:w}=d().i18n,{myshopifyDomain:b}=p(),{checkoutSessionIdentifier:S}=h(),j=m();return f((()=>{if(!S)throw new v({groupingHash:"ShopPayCheckoutIdentifierMissingError::ULCFrame"});if(!j)return;if(!r||!i)return;const s=new URLSearchParams({shopify_domain:b,checkout_token:S,origin:e,locale:w,iframe_token:r,redirect_url:i,transaction_params:null!=a?a:"",shop_pay_new_signup_login_variant:j});for(const[e,t]of n.entries())s.set(e,t);e===g.C1InlineModal&&s.set(y,k.ShopPayAsPaymentMethod),null!=o&&o.email&&s.set("fast_login","true");const l=s.toString(),c=new URL("/pay/transactions/new/email",t.services.payShopifyCom.url);return c.search=l,c.href}),[e,b,S,w,r,i,a,j,n,o,t])})(a);if(A((()=>()=>{E(!1)}),[ce]),!ce)return null;const ue=n?null==o?void 0:o.current:void 0;return j(He,{activator:ue,open:n,onClose:Q,placement:_,contentWidth:320,contentHeight:P,children:j(ae,{active:z||!L,size:"large",children:j("iframe",{id:"shop-pay-verification-iframe",title:N("shop_pay.verification.title"),ref:O,src:ce,height:P,width:320,className:"B1y2m",allow:"publickey-credentials-get *",referrerPolicy:"origin"},ce)})})}function Ke({size:e=16,gap:t=16,className:n}){const o=e/4,r=t/4,i=2*r,a=6*o+5*r,s=2*o+i;return j(T,{children:[j("style",{dangerouslySetInnerHTML:{__html:`\n    @keyframes wave-${e}-${t} {\n      0%, 60%, 100% {\n        opacity: 0.2;\n      }\n      30% {\n        opacity: 1;\n      }\n    }\n  `}}),j("svg",{className:n,width:a,height:s,viewBox:`0 0 ${a} ${s}`,"data-testid":"connectiondots",children:[Array.from({length:6},((n,i)=>j("circle",{cx:i*(o+r)+o/2,cy:o/2,r:o/2,fill:"#e5e7eb",style:{animation:`wave-${e}-${t} 1.5s ease-in-out infinite`,animationDelay:.1*i+"s"}},`dot-top-${i}`))),Array.from({length:6},((n,a)=>j("circle",{cx:a*(o+r)+o/2,cy:o+i+o/2,r:o/2,fill:"#00D66F",style:{animation:`wave-${e}-${t} 1.5s ease-in-out infinite`,animationDelay:.1*(5-a)+"s"}},`dot-bottom-${a}`)))]})]})}function Qe({className:e}){const{translate:t}=Ee(),n=String(t("stripeLinkAuth.shopLogoAriaLabel",{defaultValue:"Shop"}));return j("svg",{className:e,viewBox:"0 0 50 50",width:"100%",height:"100%",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-label":n,role:"img",children:[j("path",{d:"M50 12.5C50 5.597 44.403 0 37.5 0h-25C5.597 0 0 5.597 0 12.5v25C0 44.403 5.597 50 12.5 50h25C44.403 50 50 44.403 50 37.5v-25z",fill:"#5A31F4"}),j("path",{d:"M14.551 17.49v12.2a.09.09 0 00.092.092h2.249a.091.091 0 00.091-.091v-5.203c0-1.007.676-1.726 1.761-1.726 1.189 0 1.484.969 1.484 1.96v4.969a.09.09 0 00.027.065.09.09 0 00.066.026h2.24a.092.092 0 00.09-.091v-5.266c0-.18-.007-.357-.022-.53a4.681 4.681 0 00-.416-1.628c-.52-1.084-1.505-1.785-2.989-1.785a2.989 2.989 0 00-2.336 1.195l-.056.066V17.49a.092.092 0 00-.091-.092h-2.098a.092.092 0 00-.092.092zm-3.441 6.862s-1.088-.256-1.489-.357c-.4-.102-1.101-.328-1.101-.848 0-.544.562-.696 1.138-.696.576 0 1.21.137 1.261.771a.09.09 0 00.09.08l2.108-.008a.091.091 0 00.086-.06.092.092 0 00.005-.036c-.13-2.027-1.915-2.752-3.563-2.752-1.953 0-3.377 1.28-3.377 2.698 0 1.03.294 2 2.597 2.673.402.118.954.27 1.433.4.577.16.884.4.884.784 0 .443-.652.75-1.277.75-.916 0-1.567-.338-1.62-.946a.09.09 0 00-.09-.08l-2.104.01a.09.09 0 00-.066.028.092.092 0 00-.025.066c.096 1.914 1.951 2.945 3.68 2.945 2.57 0 3.74-1.45 3.74-2.796.003-.628-.143-2.075-2.31-2.627zm25.703-2.588V20.54a.088.088 0 00-.026-.064.09.09 0 00-.065-.027h-2.1a.09.09 0 00-.09.09v11.994a.088.088 0 00.026.064.089.089 0 00.065.026h2.249a.09.09 0 00.09-.09v-3.937h.034c.356.542 1.334 1.192 2.608 1.192 2.401 0 4.397-1.98 4.397-4.66 0-2.569-1.984-4.651-4.51-4.651-1.125 0-2.069.62-2.677 1.369v-.082zm2.468 5.747c-1.292 0-2.32-1.072-2.32-2.38 0-1.308 1.027-2.368 2.32-2.368 1.294 0 2.33 1.06 2.33 2.368 0 1.308-1.036 2.38-2.33 2.38zm-11.406-7.554c-2.096 0-3.142.708-3.983 1.28l-.024.016a.205.205 0 00-.063.275l.867 1.487a.213.213 0 00.322.056l.065-.054c.432-.36 1.086-.905 2.761-1.04.933-.074 1.74.176 2.33.72.653.601 1.044 1.57 1.044 2.594 0 1.88-1.114 3.064-2.902 3.088-1.474-.008-2.466-.774-2.466-1.906 0-.599.237-1.04.77-1.43a.207.207 0 00.061-.263l-.744-1.402a.215.215 0 00-.297-.083c-.836.493-1.822 1.446-1.767 3.182.067 2.21 1.912 3.896 4.31 3.965h.273c2.85-.092 4.907-2.198 4.907-5.048 0-2.637-1.914-5.437-5.463-5.437z",fill:"#fff"})]})}function Je({size:e=50,className:t}){return j("div",{className:t,style:{width:`${e}px`,height:`${e}px`},"data-testid":"stripelinkicon",children:j("svg",{viewBox:"0 0 50 50",width:"100%",height:"100%",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[j("rect",{width:"50",height:"50",rx:"12.5",fill:"#00D66F"}),j("path",{d:"M24.475 10H16.765C18.265 16.27 22.645 21.63 28.125 25C22.635 28.37 18.265 33.73 16.765 40H24.475C26.385 34.2 31.675 29.16 38.175 28.13V21.86C31.665 20.84 26.375 15.8 24.475 10Z",fill:"#011E0F"})]})})}function Ze({email:e,phoneNumber:t,onContinue:n}){const{translate:o}=Ee(),r=o("stripeLinkAuth.title"),i=o("stripeLinkAuth.description"),a=o("stripeLinkAuth.continueButton"),s=String(o("stripeLinkAuth.shopTermsUrl")),l=String(o("stripeLinkAuth.privacyPolicyUrl")),c=o("stripeLinkAuth.legalText",{shopTermsLink:j("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"text-grayscale-d0 underline transition-colors hover_text-grayscale-d1",children:o("stripeLinkAuth.shopTerms")}),privacyPolicyLink:j("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"text-grayscale-d0 underline transition-colors hover_text-grayscale-d1",children:o("stripeLinkAuth.privacyPolicy")})});return j("div",{className:"w-full space-y-4",children:[j("div",{className:"space-y-4",children:[j("div",{className:"flex items-center justify-center gap-0",children:[j("div",{className:"size-10 overflow-hidden rounded-md",children:j(Qe,{})}),j(Ke,{size:12,gap:12}),j("div",{className:"overflow-hidden rounded-md",children:j(Je,{size:40})})]}),j("div",{className:"flex flex-col items-center gap-2",children:[j("h2",{className:"text-center font-sans text-header-normal font-medium text-grayscale-d2",children:r}),j("p",{className:"mx-auto text-center font-sans text-body-small font-normal leading-[20px] text-grayscale-primary-light",children:i})]})]}),j("div",{className:"rounded-xl border border-grayscale-l2l bg-white p-3",children:j("div",{className:"flex items-center gap-2",children:[j(Je,{size:36}),j("div",{className:"flex flex-col",children:[j("p",{className:"font-sans text-caption font-medium leading-[16px]",children:e}),j("p",{className:"font-sans text-caption font-normal leading-[16px] text-grayscale-d0",children:t})]})]})}),j("div",{className:"space-y-3",children:[j("button",{type:"button",onClick:n,className:"relative flex w-full items-center justify-center whitespace-nowrap rounded-md bg-purple-primary p-3 font-sans font-medium text-white outline-none transition-all hover_bg-purple-d0",children:j("span",{className:"truncate",children:a})}),j("p",{className:"text-center font-sans text-caption font-normal leading-[16px] text-grayscale-l1",children:c})]})]})}function Ye(e){const{checkoutToken:t,checkoutVersion:n,shopPermanentDomain:o}=e;return{checkoutVersion:n,checkoutToken:t,flow:"checkout_modal",shopPermanentDomain:o}}const Xe=t=>{let{anchorTo:o,email:i,queueToken:s,totalDue:l}=t,c=n(t,e);const{modalVisible:u,dispatch:d}=be(),p=x(null),h=x(null),[m,v]=w(!1),[g,y]=w(null);!function({email:e,emailInputSelector:t,hideChange:n,iframeRef:o,shouldListen:i=!0}){const{loaded:a,modalVisible:s}=be(),{leaveBreadcrumb:l,notify:c}=Se(),{trackUserAction:u}=je(),{isFilledWithPasswordManager:d}=function({emailInputSelector:e}){const[t,n]=w(),[o,r]=w();return A((()=>{function t(e){"password"===this.type?r(e.timeStamp):n(e.timeStamp)}if(e){const n=we.querySelector(e);if(n){var o;n.addEventListener("input",t);const e=null===(o=n.form)||void 0===o?void 0:o.querySelector('input[type="password"]');return e&&e instanceof HTMLInputElement&&e.addEventListener("input",t),()=>{n.removeEventListener("input",t),e&&e.removeEventListener("input",t)}}}}),[e]),{isFilledWithPasswordManager:f((()=>void 0!==t&&void 0!==o&&Math.abs(t-o)<100),[t,o])}}({emailInputSelector:t}),p=x(null),[h,m]=w(),[v,g]=w(),[y,k]=w(),S=x(null),j=x(""),_=f((()=>new Set),[]),L=b(function(){var e=r((function*(e,t="",i=""){var h;const f=xe(e);if(d&&!_.has("PASSWORD_MANAGER_AUTOFILL_DETECTED")&&(_.add("PASSWORD_MANAGER_AUTOFILL_DETECTED"),u({userAction:"PASSWORD_MANAGER_AUTOFILL_DETECTED"})),f&&!_.has("EMAIL_ENTERED")&&(_.add("EMAIL_ENTERED"),u({userAction:"EMAIL_ENTERED"})),l("email entered",{},"state"),!o.current||s)return;if(!a)return;const v=f?e:"";!p.current||null!==(h=p.current)&&void 0!==h&&h.signal.aborted||p.current.abort(),p.current=new AbortController;try{var g;const{open:e,postMessage:a,waitForMessage:s}=o.current;j.current=v,a({firstName:t,lastName:i,type:"namesubmitted"}),a({email:v,hideChange:void 0===n?v.length>0:n,type:"emailsubmitted"}),l("email submitted",{email:v?"redacted":""},"state");const c=s("shop_user_matched",p.current.signal),u=new Promise(((e,t)=>{const n=function(){var o=r((function*(){try{const t=yield s("error",p.current.signal);"error"===t.type&&"captcha_challenge"===t.code?e(void 0):yield n()}catch(o){t(o)}}));return function(){return o.apply(this,arguments)}}();n()}));yield Promise.race([c,u]),e("event_shop_user_matched"),null==S||null===(g=S.current)||void 0===g||g.blur(),function(){if(!ke())return;const e="shop-pay-safari-unzoom",t=we.getElementById(e);if(t)return t.focus();const n=we.createElement("input");n.id=e,n.style.fontSize="16px",n.style.width="1px",n.style.height="1px",n.style.position="fixed",n.style.bottom="-1000px",n.style.right="-1000px",n.style.transform="translate(1000px, 1000px)",n.setAttribute("aria-hidden","true"),we.body.appendChild(n),n.focus({preventScroll:!0})}(),p.current.abort(),m(void 0)}catch(y){if(y instanceof Le&&"AbortSignalReceivedError"===y.name)return;y instanceof Error&&c(new Error(`Error updating user info: ${y.name} - ${y.message}`))}}));return function(t){return e.apply(this,arguments)}}(),[n,o,d,l,a,s,c,u,_]),E=_e(((e,t,n)=>{L(e,t,n)}),200);A((()=>{void 0!==h&&a&&E(h,v,y)}),[E,h,a,v,y]),A((()=>{if(!t)return;const e=we.querySelector(t);if(!e)return;S.current=e;const n=()=>{e&&m(e.value)};if(null!=e&&e.value&&n(),i)return null==e||e.addEventListener("input",n),()=>{null==e||e.removeEventListener("input",n)};null==e||e.removeEventListener("input",n)}),[t,i]),A((()=>{void 0!==e&&m(e)}),[e])}({email:i,iframeRef:p});const{postMessageAfterLoad:k}=function({iframeRef:e}){const{loaded:t}=be();function n(){return(n=r((function*(n){if(!e.current)return;const{postMessage:o,waitForMessage:r}=e.current;t||(yield r("loaded")),o(n)}))).apply(this,arguments)}return{postMessageAfterLoad:function(e){return n.apply(this,arguments)}}}({iframeRef:p}),{trackUserAction:S}=je(),{leaveBreadcrumb:_}=Se(),L=b((e=>{_("stripe link user found event caught",{},"state"),e.email?(y({email:e.email,phone:e.phone}),v(!0)):_("stripe link event missing email",{event:e},"error")}),[_]);A((()=>{const e=new URL(Me).origin,t=t=>{var n;if(t.origin===e&&"completed"===(null===(n=t.data)||void 0===n?void 0:n.type)&&(_("stripe link oauth completed from popup",{},"state"),h.current&&!h.current.closed&&(_("closing oauth popup window",{},"state"),h.current.close(),h.current=null),void 0!==Ce&&"parent"in Ce&&Ce.parent&&Ce.parent!==Ce)){_("forwarding completion to parent window",{},"state");const e="ancestorOrigins"in Ce.location?Ce.location.ancestorOrigins:void 0,t=null==e?void 0:e[0];t&&Ce.parent.postMessage({type:"completed",origin:Me},t)}};return Ce.addEventListener("message",t),()=>{Ce.removeEventListener("message",t),h.current&&!h.current.closed&&h.current.close()}}),[_]);const E=f((()=>{return{open:(e=r((function*(){var e;u||(null===(e=p.current)||void 0===e||e.open("user_button_clicked"),S({userAction:"OPEN_CALLED"}),_("open called",{},"state"))})),function(){return e.apply(this,arguments)})};var e}),[u,S,_]);Te(E);const{trackShopPayModalStateChange:P}=function(){const{analyticsData:e,produceMonorailEvent:t}=je();return{trackShopPayModalStateChange:b((({currentState:n,zoom:o})=>{const{analyticsTraceId:r,checkoutToken:i,checkoutVersion:a,shopPermanentDomain:s}=e,l={previousState:"",currentState:n,clientTimestampMs:(new Date).getTime(),analyticsTraceId:r,checkoutToken:i||"",checkoutVersion:a||"",shopifyDomain:s||"",zoom:o};t({event:{payload:l,schemaId:"shopify_pay_modal_state_change/1.3"}})}),[e,t])}}(),M=b((()=>{var e;P({currentState:"loaded",zoom:`${null===(e=Ce.visualViewport)||void 0===e?void 0:e.scale}`})}),[P]),C=b((e=>{var t;P({currentState:e?"shown":"hidden",zoom:`${null===(t=Ce.visualViewport)||void 0===t?void 0:t.scale}`})}),[P]);A((()=>{if(s||l){const e={totalDue:Number(l)||0,checkoutQueueToken:s||""};k({type:"checkoutcontextsubmitted",checkoutContext:e}),s&&k({type:"checkoutqueuetokensubmitted",checkoutQueueToken:s})}}),[k,s,l]);const{authorizeUrl:T}=Ne(a({analyticsContext:"loginWithShopCheckoutModal",avoidSdkSession:!0,clientId:"",disableSignUp:!0,flow:"checkout_modal",proxy:!0,redirectType:"iframe",responseType:"code",uxMode:"iframe"},c)),N=b((()=>{if(_("stripe link auth completed",{},"state"),null==g||!g.email)return;const e=Boolean(ze(Ce.location.hostname))?"mock_stripe_link":"stripe_link",t=De(),n=new URLSearchParams({login_hint:g.email,handle:e}),o=new URL(Ce.location.href);if(t){o.searchParams.has("skip_shop_pay")&&o.searchParams.delete("skip_shop_pay"),n.append("return_url",o.toString()),n.append("redirect_type","top_frame");const e=`${Me}/oauth/idp_auth?${n.toString()}`;return _("in-app browser detected, using full-page redirect",{},"state"),void(Ce.location.href=e)}n.append("return_url",o.toString()),n.append("redirect_type","post_message");const r=`${Me}/oauth/idp_auth?${n.toString()}`,i=Ce.screen.width/2-300,a=Ce.screen.height/2-350,s=Ce.open(r,"stripeLinkOAuth",`width=600,height=700,left=${i},top=${a},toolbar=no,menubar=no,location=no,status=no,resizable=yes,scrollbars=yes`);s?(_("popup opened successfully, storing reference",{},"state"),h.current=s):_("popup blocked by browser",{},"error")}),[_,g]),I=b((()=>{_("stripe link auth cancelled",{},"state"),h.current&&!h.current.closed&&(_("closing oauth popup on cancel",{},"state"),h.current.close(),h.current=null),v(!1),y(null),d({type:"hideModal",reason:"user_dismissed",dismissMethod:"close_button"})}),[_,d]);return m&&g?(_("rendering native Stripe Link UI",{email:g.email,phone:g.phone},"state"),j(Ie,{anchorTo:o,hideHeader:!1,headerTitle:"",onDismiss:()=>I(),variant:"checkoutModal",visible:u,type:"default",onModalInViewport:()=>{var e;P({currentState:"shown",zoom:`${null===(e=Ce.visualViewport)||void 0===e?void 0:e.scale}`})},children:j("div",{className:"px-4 pb-4",children:j(Ze,{email:g.email,phoneNumber:g.phone||"",onContinue:N})})})):j(Oe,{anchorTo:o,keepModalOpen:!0,onLoaded:M,onModalVisibleChange:C,onStripeLinkUserFound:L,proxy:!0,ref:p,src:T,variant:"checkoutModal",scrolling:"no"})},et=function(){var e=r((function*(e){return yield function(e){switch(e){case"../StripeLinkAuth/translations/bg-BG.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.H))),void 0);case"../StripeLinkAuth/translations/cs.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.I))),void 0);case"../StripeLinkAuth/translations/da.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.J))),void 0);case"../StripeLinkAuth/translations/de.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.K))),void 0);case"../StripeLinkAuth/translations/el.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.L))),void 0);case"../StripeLinkAuth/translations/en.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.M))),void 0);case"../StripeLinkAuth/translations/es.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.N))),void 0);case"../StripeLinkAuth/translations/fi.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.O))),void 0);case"../StripeLinkAuth/translations/fr.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.P))),void 0);case"../StripeLinkAuth/translations/hi.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.Q))),void 0);case"../StripeLinkAuth/translations/hr-HR.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.R))),void 0);case"../StripeLinkAuth/translations/hu.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.S))),void 0);case"../StripeLinkAuth/translations/id.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.T))),void 0);case"../StripeLinkAuth/translations/it.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.U))),void 0);case"../StripeLinkAuth/translations/ja.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.V))),void 0);case"../StripeLinkAuth/translations/ko.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.W))),void 0);case"../StripeLinkAuth/translations/lt-LT.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.X))),void 0);case"../StripeLinkAuth/translations/ms.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.Y))),void 0);case"../StripeLinkAuth/translations/nb.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.Z))),void 0);case"../StripeLinkAuth/translations/nl.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e._))),void 0);case"../StripeLinkAuth/translations/pl.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.$))),void 0);case"../StripeLinkAuth/translations/pt-BR.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.a0))),void 0);case"../StripeLinkAuth/translations/pt-PT.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.a1))),void 0);case"../StripeLinkAuth/translations/ro-RO.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.a2))),void 0);case"../StripeLinkAuth/translations/ru.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.a3))),void 0);case"../StripeLinkAuth/translations/sk-SK.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.a4))),void 0);case"../StripeLinkAuth/translations/sl-SI.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.a5))),void 0);case"../StripeLinkAuth/translations/sv.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.a6))),void 0);case"../StripeLinkAuth/translations/th.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.a7))),void 0);case"../StripeLinkAuth/translations/tr.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.a8))),void 0);case"../StripeLinkAuth/translations/vi.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.a9))),void 0);case"../StripeLinkAuth/translations/zh-CN.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.aa))),void 0);case"../StripeLinkAuth/translations/zh-TW.json":return le((()=>i.import("./shopjs-locales-legacy.B3N1GyTh.js").then((e=>e.ab))),void 0);default:return new Promise((function(t,n){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+e)))}))}}(`../StripeLinkAuth/translations/${e}.json`)}));return function(t){return e.apply(this,arguments)}}(),tt=({shopCheckoutModal:e,eventName:t,eventListener:n})=>{A((()=>(null==e||e.addEventListener(t,n),()=>null==e?void 0:e.removeEventListener(t,n))),[n,t,e])};function nt({email:e,open:o,popoverActivator:r,showPopover:i,showToggle:s,onIframeLoaded:l}){var m;const g=null==r?void 0:r.current,y=x(null),[k,S]=w(!1),_=x(!1),L=x(!1),{redirect_url:E,transaction_params:P}=u(),{myshopifyDomain:M,storefrontUrl:C}=p(),T=c(),{inMemoryPayPalParts:{accountStatus:N}}=O(),{guestDismissedModalKey:I}=z(),{checkoutSessionIdentifier:B}=h(),q=$(),Q=f((()=>q.current.token),[q]),J=D(),{wallets:Z}=d(),{value:Y}=ce();A((()=>{customElements.get("shop-checkout-modal")||Pe((e=>{let{element:o}=e,r=n(e,t);return j(Ae,{element:o,monorailProps:Ye(r),featureName:"ShopCheckoutModal",getFeatureDictionary:et,children:j(Xe,a({},r))})}),{methods:["open"],name:"shop-checkout-modal",props:{anchorTo:"string",checkoutRedirectUrl:"string",checkoutToken:"string",checkoutVersion:"string",email:"string",embed:"string",queueToken:"string",shopId:"number",shopPermanentDomain:"string",shopifyEssential:"string",totalDue:"string",transactionParams:"string",storefrontDomain:"string"},shadow:"open"})}),[]);const X=R(U.ShopPayVerification,{scope:V}),ee=`${B}-${e.replace(/[^a-zA-Z0-9]/g,"")}`,te=ie(),ne=x(te);A((()=>{if(ne.current)return ne.current=!1,void S(!1);const e=sessionStorage.getItem(I),t=T&&H(ee),n="connected"===N.peek().status;if(!(e||t||n))return X.peek()===F.Verified?(X.value=void 0,void S(!1)):void S(!0);S(!1)}),[e]);const oe=b((()=>{if(G(),X.value=F.Verified,K.value="none",L.current){null==i||i(!1),null==s||s(_.current);const e=new URL(window.location.href);e.searchParams.has("skip_shop_pay")&&e.searchParams.delete("skip_shop_pay"),e.searchParams.set("payment","shop_pay"),window.location.href=e.toString(),L.current=!1}}),[X,i,s]);tt({shopCheckoutModal:y.current,eventName:"completed",eventListener:oe});const re=b((()=>{if(!B)throw new v({groupingHash:"ShopPayCheckoutIdentifierMissingError::ShopJSVerification"});J.setUserIdentified(escape(B)),window.dispatchEvent(new Event("shop_pay_user_identified_cookie_set")),X.value=F.Pending,null==i||i(!0,e),null==s||s(!1)}),[B,e,J,X,i,s]);tt({shopCheckoutModal:y.current,eventName:"modalopened",eventListener:re});const ae=b((()=>{X.value=F.Dismissed,T&&W(ee,"true"),L.current=!1,null==i||i(!1),null==s||s(_.current)}),[T,ee,X,i,s]);tt({shopCheckoutModal:y.current,eventName:"modalclosed",eventListener:ae});const se=b((()=>{_.current=!0}),[]);tt({shopCheckoutModal:y.current,eventName:"shopusermatched",eventListener:se});const le=b((e=>{_.current=!1,J.setUserIdentified(null),window.dispatchEvent(new Event("shop_pay_user_identified_cookie_set"))}),[J]);tt({shopCheckoutModal:y.current,eventName:"shopusernotmatched",eventListener:le}),tt({shopCheckoutModal:y.current,eventName:"loaded",eventListener:l});const ue=b((()=>{L.current=!0;const e=y.current;e&&(e.open(),g&&g.blur())}),[g]);return tt({shopCheckoutModal:y.current,eventName:"stripelinkuserfound",eventListener:ue}),A((()=>{const e=y.current;g&&o&&(null==e||e.open(),g.blur())}),[g,e,o]),A((()=>{if(o)return K.value="shopPayVerification",()=>{K.value="none"}}),[o]),!E||Z.activeSession?null:j("shop-checkout-modal",{"anchor-to":null!=g&&g.id?`#${g.id}`:"","checkout-redirect-url":E,"checkout-token":B,"checkout-version":"checkout_one",email:o||k?e:"","queue-token":Q||"","total-due":(null==Y||null===(m=Y.amount)||void 0===m?void 0:m.toString())||"0",ref:y,"shop-permanent-domain":M,"transaction-params":P,"storefront-domain":C})}const ot=e=>j(T,{children:j(nt,a({},e))});o("default",(({email:e,onSetEmail:t,open:n,popoverActivator:o,showPopover:r,showToggle:i,urlOrigin:a=g.C1Modal,updatedOrigin:s=g.C1Modal})=>{const l=D().isActive,c=ue(),u=f((()=>de()),[]),d=f((()=>de()),[]),p=x(!0),h=f((()=>{if(void 0!==l)return{isC1:!0,shopJsVerification:!l}}),[l]);A((()=>{B(e)&&(u.mark("start"),p.current=!0)}),[u,e]),A((()=>{if(n&&p.current&&u.marks.start&&h){u.mark("open"),p.current=!1;const e=Math.round(u.marks.open-u.marks.start);c.histogram({name:"shop_pay_verification_time_to_interactive",value:e,attributes:h});const t=Math.round(u.marks.open-Math.max(u.marks.start,u.marks.loaded||0));c.histogram({name:"shop_pay_verification_time_to_interactive_after_load",value:t,attributes:h})}}),[n,c,u,h]),A((()=>{d.mark("start")}),[d]);const m=b((()=>{if(d.marks.start){d.mark("loaded"),u.mark("loaded");const e=Math.round(d.marks.loaded-d.marks.start);c.histogram({name:"shop_pay_verification_iframe_ready_duration",value:e,attributes:h})}}),[d,u,c,h]);return l?j(Ge,{popoverActivator:o,email:e,onSetEmail:t,open:n,showPopover:r,showToggle:i,urlOrigin:a,updatedOrigin:s,onIframeLoaded:m}):j(ot,{popoverActivator:o,email:e,open:n,showPopover:r,showToggle:i,onIframeLoaded:m})}))}}}))}();
