System.register(["./app-legacy.Dbq41J9R.js","./LocalizationExtensionField-legacy.BZ0YGqpc.js","./PaymentButtons-legacy.Bu0ejBgf.js","./StockProblemsLineItemList-legacy.sCWfKa7R.js","./DeliveryMethodSelectorSection-legacy.psZ6rA3z.js","./SeparatePaymentsNotice-legacy.B-Wo2bqd.js","./ShipmentBreakdown-legacy.BpzzKsj3.js","./component-ShopPayVerificationSwitch-legacy.DXEAGh16.js","./PayButtonSection-legacy.I7RK-OTm.js","./RememberMeDescriptionText-legacy.DpNZWd34.js","./ShopPayOptInDisclaimer-legacy.DDyG9ri6.js","./useEditorShopPayNavigation-legacy.Bw35S8QV.js","./VaultedPayment-legacy.CpTwYH--.js","./MerchandiseModal-legacy.BxxvMDVj.js","./StackedMerchandisePreview-legacy.DU0IQznO.js","./useSubscribeMessenger-legacy.BzzNQ2G_.js","./index-legacy.DYWIAPft.js"],(function(e,n){"use strict";var i,t,l,a,r,s,o,d,c,u,h,p,m,g,y,v,b,f,_,k,w,C,S,P,I,M,D,x,A,R,E,O,T,V,z,L,B,N,j,F,H,Y,G,W,U,q,$,X,K,J,Z,Q,ee,ne,ie,te,le,ae,re,se,oe,de,ce,ue,he,pe,me,ge,ye,ve,be,fe,_e,ke,we,Ce,Se,Pe,Ie,Me,De,xe,Ae,Re,Ee,Oe,Te,Ve,ze,Le,Be,Ne,je,Fe,He,Ye,Ge,We,Ue,qe,$e,Xe,Ke,Je,Ze,Qe,en,nn,tn,ln,an,rn,sn,on,dn,cn,un,hn,pn,mn,gn,yn,vn,bn,fn,_n,kn,wn,Cn,Sn,Pn,In,Mn,Dn,xn,An,Rn,En,On,Tn,Vn,zn,Ln,Bn,Nn,jn,Fn,Hn,Yn,Gn,Wn,Un,qn,$n,Xn,Kn,Jn,Zn,Qn,ei,ni,ii,ti,li,ai,ri,si,oi,di,ci,ui,hi,pi,mi,gi,yi,vi,bi,fi,_i,ki,wi,Ci,Si,Pi,Ii,Mi,Di,xi;return{setters:[e=>{i=e.aT,t=e.c,l=e.aR,a=e.a,r=e.aE,s=e.ac,o=e.y,d=e.ap,c=e.c4,u=e.B,h=e.a9,p=e.V,m=e.bc,g=e.b0,y=e.ep,v=e.el,b=e.S,f=e.a8,_=e.l,k=e.bY,w=e.bP,C=e.c$,S=e.I,P=e.cD,I=e.aL,M=e.z,D=e.ah,x=e.eT,A=e.q,R=e.kW,E=e.kX,O=e.f8,T=e.fG,V=e.hR,z=e.kY,L=e.cH,B=e.hl,N=e.ee,j=e.hX,F=e.hr,H=e.hs,Y=e.at,G=e.kZ,W=e.bp,U=e.k_,q=e.fX,$=e.k$,X=e.aH,K=e.fk,J=e.fh,Z=e.l0,Q=e.i,ee=e.cC,ne=e.R,ie=e.l1,te=e.av,le=e.l2,ae=e.gc,re=e.dK,se=e.aK,oe=e.g5,de=e.l3,ce=e.aB,ue=e.l4,he=e.l5,pe=e.l6,me=e.cP,ge=e.C,ye=e.jK,ve=e.aW,be=e.i5,fe=e.dN,_e=e.aJ,ke=e.l7,we=e.L,Ce=e.a_,Se=e.aj,Pe=e.f5,Ie=e.l8,Me=e.aD,De=e.l9,xe=e.bg,Ae=e.dH,Re=e.la,Ee=e.d$,Oe=e.lb,Te=e.lc,Ve=e.ld,ze=e.le,Le=e.lf,Be=e.lg,Ne=e.lh,je=e.dm,Fe=e.dn,He=e.dr,Ye=e.bN,Ge=e.gm,We=e.ai,Ue=e.li,qe=e.ds,$e=e.dt,Xe=e.dp,Ke=e.dq,Je=e.dJ,Ze=e.lj,Qe=e.lk,en=e.dX,nn=e.dx,tn=e.dy,ln=e.dw,an=e.dz,rn=e.ll,sn=e.b8,on=e.dA,dn=e.dL,cn=e.dM,un=e.dY,hn=e.lm,pn=e.dI,mn=e.dV,gn=e.eN,yn=e.ln,vn=e.cy,bn=e.lo,fn=e.lp,_n=e.lq,kn=e.jm,wn=e.lr,Cn=e.ls,Sn=e.lt,Pn=e.fP,In=e.a7,Mn=e.lu,Dn=e.aw,xn=e.b6,An=e.lv,Rn=e.gf,En=e.bW,On=e.bE,Tn=e.u,Vn=e.eM,zn=e.lw,Ln=e.lx,Bn=e.ly,Nn=e.cV,jn=e.dS,Fn=e.lz,Hn=e.br,Yn=e.gF,Gn=e.d5,Wn=e.gW,Un=e.lA,qn=e.fO,$n=e.lB,Xn=e.a6,Kn=e.fM,Jn=e.Y,Zn=e.lC,Qn=e.X,ei=e.fN,ni=e.gg,ii=e.lD,ti=e.fJ,li=e.U,ai=e.b_,ri=e.O,si=e.lE,oi=e.lF,di=e.lG,ci=e.fI,ui=e.lH,hi=e.fL,pi=e.eO,mi=e.a2},e=>{gi=e.T,yi=e.R,vi=e.L},e=>{bi=e.C,fi=e.P},e=>{_i=e.S},e=>{ki=e.D,wi=e.u,Ci=e.E,Si=e.a,Pi=e.P},e=>{Ii=e.u},e=>{Mi=e.S},e=>{Di=e.default},e=>{xi=e.P},null,null,null,null,null,null,null,null],execute:function(){var n=document.createElement("style");function Ai({loading:e,lineItems:n,onClose:y}){const v=i(),b=t(),{hasStorefront:f}=l(),_=a(r,{variant:"primary",onClick:y,children:b("stock.continue_cta_label")}),k=f&&a(r,{href:v.cart(),variant:"plain",children:a(s,{spacing:"small200",blockAlignment:"center",children:a(o,{children:b("stock.return_to_store_label")})})});return d((()=>()=>{c.value="none"}),[]),a(g,{heading:b("stock.price_update.title"),open:!0,onShow:()=>{c.value="priceChange"},onHide:y,size:"large",children:a(u,{spacing:"loose",children:[a(h,{children:b("stock.price_update.description")}),a(p,{children:a(_i,{loading:e,lineItems:n,type:m.PriceChange})}),a(s,{spacing:"large300",blockAlignment:"center",inlineAlignment:"end",children:[k,_]})]})})}function Ri({children:e}){const n=y().isPartner(),{isActive:i,visibility:{showCheckoutAsGuestFeature:t}}=v(),l=b.default("none").when({viewportInlineSize:{min:"small"}},"block");return e&&i&&t?a(_,{children:[a(f,{spacing:"large100"}),a(p,{inlineAlignment:"center",children:e}),n?a(f,{spacing:"base"}):a(p,{display:l,children:a(f,{spacing:"base"})})]}):null}function Ei({returnWindow:e}){var n;const i=t(),{value:l}=k(),r=null==l||null===(n=l.finalSaleSummary)||void 0===n?void 0:n.hasFinalSale,s=w((()=>{const n=-1===e;return r?n?i("order_summary.return_rules_experiment.unlimited_window_title_with_final_sale"):i("order_summary.return_rules_experiment.limited_window_title_with_final_sale",{count:e}):n?i("order_summary.return_rules_experiment.unlimited_window_title"):i("order_summary.return_rules_experiment.limited_window_title",{count:e})}),[r,e,i]);return a(P,{border:"base",padding:"small-300",borderRadius:"base",children:a(p,{inlineAlignment:"center",children:a(C,{gridTemplateColumns:"auto auto",gap:"small-300",alignItems:"center",children:[a(S,{type:"return",size:"base",color:"base"}),a(o,{color:"base",children:s})]})})})}function Oi(e){return e.some((e=>"MERCHANDISE_EXPECTED_PRICE_MISMATCH"===e.code))}function Ti({filteredAvailableDeliveryAddresses:e,selectedAddressId:n,handleChange:i}){const t=w((()=>e?new Map(e.map((e=>[e.id,e.address]))):new Map),[e]),l=w((()=>new Map),[]);return a(O.Provider,{value:!0,children:a(E,{id:"modal_shipping_address",addressType:"shipping",selectedId:n,onChange:i,choices:l,ephemeralAddressChoices:t})})}function Vi({shippingAddress:e}){const{nameLine:n,primary:i,secondary:t}=T({address:e});return a(p,{padding:"large100",background:"subdued",borderRadius:"base",children:a(o,{tone:"accent",children:[a(h,{children:a(o,{type:"strong",children:`${n}, ${i}`})}),a(h,{children:t})]})})}function zi(){const e=t(),n=M(),i=n.mustSelectProvidedAddress.value,s=n.availableDeliveryAddresses.value,[o]=V(),{setSelectedAddress:c,selectedAddress:h}=z(),p=L(),m=!!p&&B(p),{record:y}=N(),{name:v}=l(),[b]=j(),[k,C]=D(null==h?void 0:h.id),S=w((()=>i?s:null==s?void 0:s.filter((e=>!o.find((n=>F(n.address,e.address)))))),[o,s,i]),P=w((()=>null==o?void 0:o.some((e=>!!h&&F(e.address,h.address)))),[h,o]),I=0===(null==S?void 0:S.length),x=s&&s.length>=1&&!I&&!P,R=(null==o?void 0:o.length)>=1,E=Boolean(!i&&x&&R&&!m),[O,T]=D(E);d((()=>{O&&y({schemaId:"shopify_pay_payment_page_ui_impression/2.0",payload:{elementText:1===(null==S?void 0:S.length)?"single_address":"multiple_addresses",elementType:"shop_pay_merchant_set_address_modal",shopAccountUuid:b}})}),[O]);const Y=A((e=>{y({schemaId:"shopify_pay_payment_page_ui_interaction/1.1",payload:{action:e}})}),[y]),G=A((()=>{Y("shop_pay_proposed_address_modal_continue");const e=null==S?void 0:S.find((e=>e.id===k));c(e,"shipping_address"),T(!1)}),[S,k,c,Y]),W=A((()=>{Y("shop_pay_proposed_address_modal_use_saved_address");const e=H(o);e&&c(e,"shipping_address"),T(!1)}),[c,o,Y]),U=w((()=>S?new Map(S.map((e=>[e.id,e]))):new Map),[S]),q=A((e=>{const n=U.get(e);C(n.id)}),[U,C]),$=1===(null==S?void 0:S.length)?a(Vi,{shippingAddress:S[0].address}):a(Ti,{filteredAvailableDeliveryAddresses:S,selectedAddressId:k,handleChange:q});return a(g,{size:"large",open:O,heading:e("review_address_modal.title"),onHide:G,children:[a(_,{children:e("review_address_modal.subtitle",{count:(null==S?void 0:S.length)||0,merchant:v})}),a(f,{spacing:"base"}),$,a(f,{spacing:"large200"}),a(u,{spacing:"small400",children:[a(r,{variant:"primary",inlineSize:"fill",onClick:G,children:e("review_address_modal.continue")}),a(r,{inlineSize:"fill",onClick:W,children:e("review_address_modal.use_saved_address")})]})]})}function Li({showSmsMarketingOptIn:e=!1}){var n;const{checkout:i}=Y(),{acceptTipPayments:t}=l(),{shopifyInstallments:r}=G();W();const s=U(),o=q(),d=$(),{PurchaseOrderNumberField:c,GiftCardRedemption:u,StoreCreditRedemption:h,Installments:p,PaymentMethodSelector:m}=X(),{isOrderEditCheckout:g}=K(),y=null===(n=null==d?void 0:d.tippingPaymentAllowed)||void 0===n||n,v=!g&&t&&y&&i.configuration.visibility.showTips,b=J({shopPay:v&&!r(),default:v}),f=Z({showTips:b,billingFormPosition:s}),k=Q("purchase.checkout.payment-method-list.render-before"),w=Q("purchase.checkout.payment-method-list.render-after");return a(se,{target:"cart.paymentLines[0]",children:a(ee,{gap:"base",children:[a(Bi,{}),a(ne,{extensions:k}),a(ie,{}),a(h,{}),a(p,{}),a(te,{children:a(ee,{gap:"large-300",children:[a(le,{dynamicPaymentExtensions:f.shift()||[],showSmsMarketingOptIn:e,children:[a(m,{}),a(ne,{extensions:w}),a(ne,{extensions:f.shift()||[]}),a(u,{})]}),o&&a(ae,{}),a(c,{showHeading:!1}),b&&a(_,{children:[a(re,{sectionId:"tips",children:a(gi,{})}),a(ne,{extensions:f.shift()||[]})]}),a(yi,{}),a(ne,{extensions:f.flat()})]})})]})})}function Bi(){const e=t(),n=oe(),i="payment",l=de(i),r=n?`${e("payment.billing_must_match_shipping_notice")} `:"",s=e("payment.card_security_notice");return a(ee,{gap:"small-400",children:[a(ce,{id:i,level:1,autoFocus:l,children:e("payment.title")}),a(h,{color:"subdued",children:r+s})]})}function Ni(){const e=t(),{availableDeliveryMethodsLoading:n,progressiveShippingRatesLoading:i}=he(),l=n&&!i,{selectedDeliveryMethod:a}=pe({onChange:()=>{},prerequisitesLoading:n||l}),r=a?e("order_summary.updated_shipping_method",{shipping_method:a.title}):void 0;return d((()=>{if(r)return me({content:r})}),[r]),null}function ji(){return ue("ONE_TIME_PURCHASE")?a(Ni,{}):null}function Fi({showSmsMarketingOptIn:e=!1}){const n=Q("Checkout::Contact::RenderAfter"),i=Q("Checkout::Dynamic::Render","INFORMATION1"),t=Q("Checkout::Dynamic::Render","INFORMATION2"),{ContactForm:l}=X();return a(_,{children:[i.length?a(_,{children:a(ne,{extensions:i,spacing:"base",marginBlockEnd:"large300"})}):null,a(_e,{impressionType:"contact",impressionFeatures:[],children:[a(l,{showSmsMarketingOptIn:e}),n.length?a(_,{children:a(ne,{extensions:n,marginBlockStart:"base"})}):null,t.length?a(_,{children:a(ne,{extensions:t,spacing:"large200",marginBlockStart:"large300"})}):null]})]})}function Hi(){const e=t(),{setSelectedAddress:n,addresses:i}=ke("shipping"),l=A((()=>{i.length>0&&n(i[0])}),[i,n]);return 0===i.length?null:a(Ce,{inlineAlignment:"start",children:a(we,{id:"save_shipping_information",textDecoration:"none",onClick:l,children:e("customer_account.saved_address_option_link")})})}function Yi({localPickupDeliveryLine:e,onShowModal:n}){const i=t(),l=Se(),{methods:s,type:d}=e,[c]=Pe(d),m=s.find((e=>e.handle===c));return m?a(u,{children:[l&&a(h,{children:i("delivery_options.subscription_pickup_information")}),a(p,{border:"base",borderRadius:"large",children:[a(P,{padding:"base",children:a(Ce,{columns:["fill","auto"],children:a(Ie,{method:m})})}),a(Me,{accessibilityRole:"presentation"}),a(P,{padding:"base",children:a(r,{variant:"plain",inlineSize:"fill",textDecoration:"none",inlineAlignment:"start",onClick:n,commandFor:De,children:a(ee,{direction:"inline",gap:"small-200",alignItems:"center",justifyContent:"space-between",children:[a(o,{type:"strong",children:i("local_pickup.toggle_location")}),a(S,{type:"chevron-right",size:"small-200"})]})})})]})]}):null}function Gi(){return a(p,{border:"base",borderRadius:"large",children:[a(P,{padding:"base",paddingBlockEnd:"large-400",children:a(ee,{justifyContent:"space-between",direction:"inline",children:[a(ee,{direction:"block",gap:"small-400",children:[a(xe,{inlineSize:"large",size:"base"}),a(xe,{inlineSize:"base",size:"base"})]}),a(xe,{inlineSize:"small",size:"base"})]})}),a(Me,{accessibilityRole:"presentation"}),a(P,{padding:"base",children:a(xe,{inlineSize:"small",size:"base"})})]})}function Wi(){const e=t(),{negotiating:n}=Ae(),i=Re(),l=Ee(),{value:r,loading:s}=Oe(),{hasViolations:o}=Te(Be),[d,c]=D(!1),h=()=>{c(!0)},p=n||!l||s||d?a(Gi,{}):r?a(ze,{onShowModal:h}):i?a(u,{children:[o&&a(Le,{}),a(Yi,{localPickupDeliveryLine:i,onShowModal:h})]}):null;return a(se,{target:"cart.deliveryGroups[0].deliveryAddress",children:a(te,{accessibilityLabel:e("delivery_options.pick_up_locations"),children:[p,a(Ve,{methods:null==i?void 0:i.methods,type:null==i?void 0:i.type,open:d,onClose:()=>{c(!1)}})]})})}function Ui({showSmsMarketingOptIn:e=!1}){return Ne(),a(u,{spacing:"large300",children:[a(ki,{}),a(qi,{showSmsMarketingOptIn:e})]})}function qi({showSmsMarketingOptIn:e}){const n=je(),{method:i}=Ae(),l=t(),{wallets:r}=Y(),{value:s}=Fe(),o=He(),d=Ye(Ge),{showShipmentBreakdown:c}=We(),p=Ue(),m=Q("Checkout::DeliveryAddress::RenderBefore"),g=Q("purchase.checkout.delivery-address.render-after"),{hasMultipleDeliveryGroups:y,onlyDeliveryGroupType:v}=qe(),{extensionsBefore:b,extensionsAfter:k}=$e({hasMultipleDeliveryGroups:y,targeted:!1}),w=o||c,C=Xe(),S=Ke(),{negotiate:P}=ge(),I=A((({shipping:e})=>{r.activeSession||P({include:[],fieldsToResolve:["deliveryNext"],silenceViolations:["non-delivery-address"],runListenersOnError:!0}),e.value=!0,C("sectionComplete",{section:"deliveryAddress",timestamp:new Date}),S({type:"section_complete",section:"deliveryAddress"})}),[r.activeSession,P,C,S]),M=A((({shipping:e})=>{e.value=!1}),[]),D=e=>a(te,{padding:w?"small-400 none":void 0,children:e}),x=e?a(un,{}):null,R="shippingMethod",E=de(R);switch(i){case"PICKUP_POINT":return a(_,{children:a(re,{sectionId:"pickupPoints",children:a(cn,{})})});case"PICK_UP":return a(_,{children:a(re,{sectionId:"localPickup",children:a("treatment"===p?Wi:dn,{})})});default:return a(re,{sectionId:"shipping",children:[a(te,{accessibilityLabel:l("delivery_options.shipping_address"),children:a(u,{spacing:"base",children:[a(ne,{extensions:m}),a(u,{spacing:"large300",children:[a(Je,{children:a(Ze,{onValid:I,onInvalid:M,children:a(Qe,{children:[a(Hi,{}),a(en,{}),x]})})}),a(ne,{extensions:g}),a(u,{spacing:w?"small400":"base",children:[a(ce,{id:R,level:d?1:2,autoFocus:E,children:l("shipping.shipping_method_title")}),a(nn,{children:[c?a(tn,{children:[a(Mi,{}),a(f,{spacing:"small200"})]}):null,ln("shipping.shipping_method_notice",n)?a(h,{children:l("shipping.shipping_method_notice")}):null,a(ne,{extensions:b,options:{groupType:v&&an(v),includeDeliverySelectionGroups:!1},render:D}),a(tn,{children:[a(rn,{}),a(sn.Preload,{})]}),a(ne,{extensions:k,options:{groupType:v&&an(v),includeDeliverySelectionGroups:!1},render:D})]})]})]})]})}),(null==s?void 0:s.refuseDutiesPermitted)&&a(te,{accessibilityLabel:l("shipping.duties_and_taxes_title"),children:a(u,{spacing:"base",children:[a(ce,{level:2,children:l("shipping.duties_and_taxes_title")}),a(on,{})]})})]})}}function $i({showSmsMarketingOptIn:e=!1}){const n=t(),i=oe(),{DeliveryHeading:l}=X(),r=Q("Checkout::Dynamic::Render","DELIVERY1"),s=Ue(),{contact:o}=hn(),d="treatment"===s&&o;return a(gn,{children:a(u,{children:[!d||i?a(u,{spacing:"small400",children:[!d&&a(l,{}),i&&a(h,{color:"subdued",children:n("shipping.shipping_used_as_billing_notice")})]}):null,a(pn,{}),a(mn,{children:a(Ui,{showSmsMarketingOptIn:e})}),a(ne,{extensions:r})]})})}n.textContent=".LaXGo{font-weight:var(--x-typography-primary-weight-bold);display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.ILN3z>*{border-bottom:1px solid var(--x-default-color-border)}.TiyE2>*:first-child{border-bottom:none;padding-bottom:0}.wyrwY>*:last-child{border-bottom:none;padding-bottom:0}@media (max-width: 999px){._8S1mj>*:last-child{border-bottom:1px solid var(--x-default-color-border);padding-bottom:var(--x-spacing-large-100)}}\n/*$vite$:1*/",document.head.appendChild(n),e({PartialVaultedMarketingConsentMarkup:rt,VaultedExtensionsSection:st,default:function({children:e}){const{checkout:n}=Y(),i=Ee(),r=M(),s=r.email.value,o=r.phone.value,{progress:c}=ge(),{shippingRequired:h}=fe(),p=hn(),{value:g}=xn(),[y]=An(),{postPurchaseEnabled:v}=Rn(),C=t(),S=En(),E=On(),{isOrderEditCheckout:O}=K(),{vaultedItem:{background:T,border:V}}=Tn(),{emailMarketing:z,smsMarketing:L}=l(),B=function(){const{value:e}=I(),n=Oi(null!=e?e:[]),{loading:i,value:t}=k(),l=M().merchandiseLines.value,a=w((()=>{var e;return null!==(e=null==t?void 0:t.lines)&&void 0!==e?e:[]}),[t]),[r,s]=D(l),o=w((()=>x(r,a,e,R).map((({proposed:e,negotiated:n})=>({line:null!=e?e:n,problem:{type:m.PriceChange,negotiatedPrice:null==n?void 0:n.itemPrice,proposedPrice:null==e?void 0:e.itemPrice}})))),[r,a,e]),d=A((()=>{o.length>0&&s(a)}),[o,a,s]);return{hasViolation:n,loading:i,lineItems:o,updateProposal:d}}(),N=Xe(),j=kn(),F=n.configuration.visibility.showEmailMarketing&&"OFF"!==z,H=q(),G=$(),W=Vn(),{value:U}=ye(),Z=Ye(zn),ee=Ln(),{value:ne}=I(),ie=!(null==ne?void 0:ne.some((e=>Bn.has(e.code))))&&B.hasViolation&&B.lineItems.length>0;(function(){var e;const{negotiate:n}=ge(),i=ye(),t=M(),l=t.shippingAddress.value,a=t.billingAddress.value,r=ve(),{value:s=[]}=I(),o=be(s),c=Oi(s),{shippingRequired:u}=fe(),h=u?l.countryCode:a.countryCode,p=null==i||null===(e=i.value)||void 0===e?void 0:e.countryCode,m=JSON.stringify(null==i?void 0:i.value,((e,n)=>void 0===n?null:n));d((()=>{o||c||p&&h!==p&&(r.log("country_code_alignment_mismatch_detected","[EnsureBackAndFrontEndCountryCodeAlignment] There was a mismatch between the preselected and the buyerIdentity countryCode on checkout load.",{selectedCountryCode:h,buyerIdentityCountryCode:p,buyerIdentity:m}),n({silenceViolations:["all"]}))}),[])})(),d((()=>{ie&&N("inventoryPriceChange",{element:{tagName:"modal"},timestamp:new Date,visible:!0})}),[ie,N]);const te=A((()=>{B.updateProposal()}),[B]),le=Nn({base:!0,medium:!1}),ae=Nn({base:!1,small:!0}),oe=jn(),de=J({guest:oe,customerAccount:oe,sdkCartHints:oe,externalVault:oe,default:!1}),ce=Q("Checkout::Contact::RenderAfter"),ue=J({shopPay:S&&Boolean(le&&!ae),default:!1}),he=J({shopPay:F,default:F&&p.contact}),pe=J({shopPay:zi,default:_}),me=Z&&!Fn(null==U?void 0:U.countryCode),_e=J({businessCustomer:!1,sdkCartHints:Boolean(F&&p.contact&&s),default:he&&!W&&!me&&!O}),ke=J({shopPay:"belowPayment",default:p.payment?"belowPayment":"abovePayment"});let we=J({shopPay:!1,businessCustomer:!1,default:"OFF"!==L});G&&!G.smsMarketingEnabled&&(we=!1);const Ce=o&&!s?p.contact?"root":"contact":ti(g)||!h?"billing":"delivery",Se=_e&&"belowPayment"===ke,Pe=_e&&"abovePayment"===ke,Ie=Se&&null!=le&&le,Me=n.configuration.visibility.showEmailMarketing&&!O&&Pe&&!(null!=E&&E.acceptsEmailMarketing),De=!O&&we&&"root"===Ce&&!(null!=E&&E.acceptsSmsMarketing),xe=J({sdkCartHints:_,default:gn}),Ae=J({guest:p.delivery,businessCustomer:!p.delivery&&p.payment,default:!1}),Re=J({guest:Ae&&!(p.contact&&p.payment),businessCustomer:Ae,default:!1}),Oe=p.contact&&!(p.delivery&&p.payment)&&ce.length>0&&(Me||De||le)?ce:void 0,{SignUpContact:Te}=X(),{acceleratedWalletPaymentMethods:Ve}=Hn(),ze=wi(Ve),Le=Ye(Yn),Be=lt({includeContactAfterExtensions:void 0===Oe}),{main:{section:Ne,spacing:je}}=Gn(),{lineItems:{priority:Fe="base"}}=Tn(),He=Wn(Ne),Ge=He&&!T&&!V,We=Un();return a(_,{children:[e,a(u,{spacing:b.default("none").when({viewportInlineSize:{min:"extraSmall"}},"large200"),children:[O?a(u,{padding:b.default(["large200","large200","none","large200"]).when({viewportInlineSize:{min:"extraSmall"}},"none"),children:a(qn,{})}):null,a($n,{section:"toast"}),a($n,{section:"top"}),a(Xn,{onSubmit:()=>c("one-page-form-submit",void 0,{skipToCompletion:j}),children:[a("div",{ref:ze,children:a(Kn,{hideDivider:p.payment&&!Ie&&!We,condition:!He,accessibilityLabel:C("contact.contact_method_title"),children:[de&&a(_,{children:[a(Kn,{condition:He,hideDivider:!0,padding:ue?"none large-200 large-200 large-200":void 0,children:a(u,{spacing:"none",children:a(re,{sectionId:"expressCheckout",children:a(Jn,{section:"expressCheckout",children:a(Ci,{})})})})}),a(Si,{})]}),"high"===Fe&&a(P,{display:b.default("block").when({viewportInlineSize:{min:"medium"}},"none"),children:a(Kn,{condition:He,children:a(Zn,{})})}),a(Kn,{condition:Ge,padding:!de&&ue?"none large-200 large-200 large-200":void 0,accessibilityLabel:C("contact.contact_method_title"),children:a(u,{spacing:"none",children:[!p.contact&&a(Qn,{section:"contact",children:a(Jn,{section:"contact",children:a(Fi,{showSmsMarketingOptIn:!O&&we&&"contact"===Ce})})}),!Ae&&a(_,{children:[a(tt,{hideLastDivider:He}),!Ge&&"none"!==je&&a(f,{spacing:je})]}),H&&a(yi,{variant:"minimal"}),!He&&a(Jn,{section:"contact",children:a(rt,{renderAsVaulted:!0,showMarketingDisclosure:Me||Ie,showSmsMarketingOptIn:De&&"belowPayment"!==ke,afterContactExtensions:Oe})})]})})]})}),a(Te,{}),He&&a(Jn,{section:"contact",children:a(rt,{showMarketingDisclosure:Me,showSmsMarketingOptIn:De&&"belowPayment"!==ke,afterContactExtensions:Oe})}),Re&&h&&a(ei,{condition:Ae,accessibilityLabel:C("shipping.delivery_title"),children:a(tt,{hideLastDivider:He})}),!ee&&Be.length?a(st,{extensions:Be,hideDivider:"whenEmpty"}):null,!p.delivery&&h&&a(se,{target:"cart.deliveryGroups[0].deliveryAddress",children:a(Qn,{section:"delivery",children:a(Jn,{section:"delivery",children:a(re,{sectionId:"delivery",children:a($i,{showSmsMarketingOptIn:!O&&we&&"delivery"===Ce})})})})}),i&&a(at,{showMobileOrderSummary:We,showVaultedStateMarketingDisclosureBelowPayment:Se,showVaultedStateMarketingDisclosureOnMobile:Ie,showPartialVaultedStateSmsMarketingOptIn:De&&"belowPayment"===ke,showSmsMarketingOptIn:we,smsMarketingOptInPlacement:Ce,isSectionCustomized:He,VaultedStateMarketingDisclosureWrapper:xe,includeContactAfterExtensions:void 0===Oe,showExpressCheckoutSection:de,managedMarketsWithShopifyPaymentsFeatureFlagEnabled:Le})]},y),v&&a(ni,{})]}),a(ii,{}),ie&&a(Ai,{loading:B.loading,lineItems:B.lineItems,onClose:te}),h&&a(ji,{}),a(pe,{}),a(Pi,{id:"OnePage"})]})}});const Xi=e=>e.replace(/^(?:(.*:)?\/\/)?(.*)/i,((e,n,i)=>n?e:`https://${i}`)),Ki={ReferralTitle:"LaXGo"};function Ji(){var e;const n=t(),i=null===(e=function(e){if(!e)return"";try{return new URL(Xi(e)).hostname.replace("www.","")}catch(n){return e.replace(/^https?:\/\/(www\.)?/,"")}}(l().storefrontUrl))||void 0===e?void 0:e.replace(/-/g,"â€‘");return i?a("strong",{"data-testid":"referral-title",className:Ki.ReferralTitle,children:n("shop_pay.checkout.referral_title",{merchant_url:i})}):null}function Zi(){const e=M(),n=e.email.value,i=e.phone.value,l=t(),{isOrderEditCheckout:r}=K(),s=yn(),[o,d]=D(!1),c=J({customerAccount:n&&"string"==typeof n&&s,default:!1}),{VaultedContact:u}=X(),h=J({businessCustomer:!1,shopPay:!1,default:!0}),p=c?a(Di,{email:n,open:o,showPopover:e=>{d(e)}}):null;if(r&&h){const e=n||i;return a(_,{children:[a(vn,{id:"contact",label:l("contact.contact_method_title"),summary:e?a("p",{children:e}):a(xe,{})}),p]})}return a(_,{children:[a(u,{emailAddress:n,phone:i}),p]})}const Qi={contact:{shouldRender:e=>e.vaulted.contact},delivery:{shouldRender:e=>e.vaulted.delivery&&e.shippingRequired},payment:{shouldRender:e=>e.vaulted.payment},billing:{shouldRender:e=>!e.isOrderEditCheckout&&(e.showBillingAddressAbovePayment||e.vaulted.payment&&e.vaulted.billing)},cashRedemption:{shouldRender:e=>!e.isOrderEditCheckout&&e.vaulted.payment&&e.checkout.configuration.visibility.showCashRedemption}},et=["contact","delivery","payment","billing","cashRedemption"],nt={businessCustomer:["contact","delivery","billing","payment","cashRedemption"]};const it={DivideChildren:"ILN3z","DivideChildren--no-initial-divider":"TiyE2","DivideChildren--no-final-divider":"wyrwY","DivideChildren--final-mobile-divider":"_8S1mj"};function tt({hideLastDivider:e}){var n;const i=hn(),{negotiate:t}=ge(),l=J({amazonPay:!1,buyWithPrime:!1,default:!0}),r=_n(),s=null!==(n=(null==r?void 0:r.is_referral)&&"web"===r.layout)&&void 0!==n&&n,{isOrderEditCheckout:o}=K(),{shippingRequired:c}=fe(),{shippingRequired:h}=fe(),p=o&&h,[m]=fn(),g=m.includes("PICK_UP"),{checkout:y}=Y(),{VaultedPayment:v,ReviewNotice:b,VaultedDelivery:_,VaultedBillingAddress:k,VaultedCashRedemption:w}=X(),C=kn(),S=Ue(),I=wn(),M=J({guest:!0,default:!1}),D=J({businessCustomer:i.payment,guest:!0,default:!1}),x=J({amazonPay:!0,buyWithPrime:!0,payPal:!0,googlePay:!0,shopPay:!0,default:!1}),A=J({businessCustomer:!0,default:!1}),R=Ye(Cn),E=i.delivery&&(c||p&&o),O=J({businessCustomer:!c||g,default:!1});let T=[];const V=Ye(Sn),z=function(){const e=bn().identitySourceSignal.value,n=hn(),{checkout:i}=Y(),{shippingRequired:t}=fe(),{isOrderEditCheckout:l}=K(),[r]=fn(),s=r.includes("PICK_UP"),{VaultedPayment:o,VaultedDelivery:d,VaultedBillingAddress:c,VaultedCashRedemption:u}=X(),h={vaulted:n,checkout:i,shippingRequired:t,isOrderEditCheckout:l,showBillingAddressAbovePayment:J({businessCustomer:!t||s,default:!1})},p=function(e){var n;return null!==(n=nt[e])&&void 0!==n?n:et}(e),m={contact:Zi,delivery:d,payment:o,cashRedemption:u,billing:c};return p.filter((e=>Qi[e].shouldRender(h))).map((e=>a(m[e],{},e)))}();return T=V?z:[..."treatment"===S?i.contact||E?[a(u,{spacing:"none",children:[i.contact&&a(Zi,{}),E&&a(_,{})]},"contact-delivery")]:[]:[...i.contact?[a(Zi,{},"contact")]:[],...E?[a(_,{},"delivery")]:[]],...function(e){if(o)return i.payment?[a(v,{},"payment")]:[];const n=[];return O&&n.push(a(k,{},"businessCustomerBilling")),i.payment&&(n.push(a(v,{},"payment")),e.configuration.visibility.showCashRedemption&&n.push(a(w,{},"cashRedemption")),i.billing&&!O&&n.push(a(k,{},"billingAddress"))),n}(y)],d((()=>{T.length>0&&l&&t({silenceViolations:["all"]})}),[]),0===T.length?null:a(P,{children:[I?a(Pn,{}):null,I&&x?a(In,{below:"large",children:a(f,{})}):null,C&&a(b,{}),s?a(Ji,{}):null,R?a(Mn,{items:T,showBottomDivider:!e&&!D}):a("div",{className:Dn({[it.DivideChildren]:!0,[it["DivideChildren--no-final-divider"]]:e||!0===D,[it["DivideChildren--no-initial-divider"]]:M,[it["DivideChildren--final-mobile-divider"]]:A}),children:T})]})}function lt({includeContactAfterExtensions:e}={includeContactAfterExtensions:!1}){const n=hn(),i=Q("Checkout::Contact::RenderAfter"),t=Q("Checkout::Dynamic::Render","INFORMATION1"),l=Q("Checkout::Dynamic::Render","INFORMATION2"),a=Q("Checkout::Dynamic::Render","DELIVERY1"),r=Q("Checkout::Dynamic::Render","DELIVERY2"),s=Q("Checkout::Dynamic::Render","PAYMENT1"),o=Q("Checkout::Dynamic::Render","PAYMENT2"),d=Q("Checkout::Dynamic::Render","PAYMENT3");return w((()=>{let c=[];return n.contact&&(c=[...e?i:[],...t,...l]),n.delivery&&(c=[...c,...a,...r]),n.payment&&(c=[...c,...s,...o,...d]),c}),[n,e,i,t,l,a,r,s,o,d])}function at({showMobileOrderSummary:e,showVaultedStateMarketingDisclosureBelowPayment:n,showVaultedStateMarketingDisclosureOnMobile:i,isSectionCustomized:r,VaultedStateMarketingDisclosureWrapper:s,showPartialVaultedStateSmsMarketingOptIn:o,showSmsMarketingOptIn:d,smsMarketingOptInPlacement:c,includeContactAfterExtensions:h,showExpressCheckoutSection:m,managedMarketsWithShopifyPaymentsFeatureFlagEnabled:g}){var k;const C=t(),S=hn(),I=Ln(),D=li(),x=Ii(),{checkout:R}=Y(),{acceptTipPayments:E}=l(),{currentDetour:O}=ai(),T=ri(),V=J({shopPay:!S.payment,default:!1}),{visibility:{shouldRenderFloatingShopPayButton:z}}=v(),{isOrderEditCheckout:L}=K(),B=Nn({base:!0,medium:!1}),N=si(),{returnWindow:j}=l();oi();const F=M().localizationExtensions.value,H=F.length>0,W=b.default("block").when({viewportInlineSize:{min:"medium"}},"none"),U=b.default("none").when({viewportInlineSize:{min:"medium"}},"block"),{shopifyInstallments:q}=G(),{setChatHideTriggerNode:Z}=di(),ee=A((e=>{Z(B&&e?e:null)}),[B,Z]),ie=n&&!B,te=$(),le=null===(k=null==te?void 0:te.tippingPaymentAllowed)||void 0===k||k,ae=S.payment&&E&&le&&R.configuration.visibility.showTips,se=J({shopPay:ae&&!q(),default:ae}),oe=y().isPartner(),de=w((()=>"thankYou"===(null==O?void 0:O.type)?"Checkout::ThankYou::Dynamic::Render":"Checkout::Dynamic::Render"),[null==O?void 0:O.type]),ue=Q(de,"ORDER_SUMMARY4"),he=g?!m&&Boolean(T.value):Boolean(T.value),pe=lt({includeContactAfterExtensions:h}),me=ci(),{Rewards:ge,CashRedemption:ye,MarketingDisclosure:ve,BillingSection:be,CheckoutAsGuest:fe}=X(),{primaryButton:{visibility:_e="visible"}}=Tn();return a(_,{children:a(ui,{min:"medium",accessibilityLabel:C("payment.title"),hideDivider:!0,children:[me?null:a(hi,{}),!S.payment&&a(Qn,{section:"payment",children:a(Jn,{section:"payment",children:a(ui,{max:"medium",accessibilityLabel:C("payment.title"),children:a(Li,{showSmsMarketingOptIn:!L&&d&&"billing"===c})})})}),!S.payment&&a(ye,{}),H&&a(gn,{accessibilityLabel:C("localized_fields.additional_information.title"),children:a(u,{padding:B?"none":["large400","none","none","none"],children:[a(ce,{level:2,children:C("localized_fields.additional_information.title")}),F.map(((e,n)=>{const i=`${e.value.key}${n}`;return a(vi,{localizationExtension:e,index:n},i)}))]})}),i&&r&&a(s,{children:a(ve,{})}),B&&!L&&se&&a(p,{display:W,children:a(re,{sectionId:"tips",children:a(gi,{renderInSection:B})})}),B&&I&&pe.length?a(st,{extensions:pe,hideDivider:"whenEmpty"}):null,a(Qn,{section:"summary",children:a(Jn,{section:"summary",children:a("div",{ref:ee,children:[a(ui,{max:"medium",hideDivider:!0,children:[e&&a(pi,{}),a(u,{spacing:z?"none":"base",children:[a(u,{spacing:"base",children:[ie&&V&&a(u,{spacing:"none",children:[a(f,{spacing:"base"}),a(Me,{})]}),a(rt,{renderAsVaulted:!0,showMarketingDisclosure:ie,showSmsMarketingOptIn:o,children:a(be,{})}),!B&&!L&&se&&a(p,{display:U,children:a(re,{sectionId:"tips",children:[a(f,{spacing:"large300"}),a(gi,{})]})}),!B&&I&&pe.length?a(st,{extensions:pe}):null,he&&a(u,{padding:B?"none":["large400","none","none","none"],children:a(mi,{textProps:{color:"subdued",size:"small"}})})]}),a(u,{spacing:"large200",children:[x&&a(bi,{}),"visible"===_e&&a(xi,{}),D&&a(fi,{}),j&&N?a(P,{display:W,children:a(Ei,{returnWindow:j})}):null,B&&a(ne,{extensions:ue,spacing:"large200"})]})]}),a(ge,{}),oe?null:a(Ri,{children:a(fe,{})})]}),oe?a(Ri,{children:a(fe,{})}):null]})})})]})})}function rt({showMarketingDisclosure:e,showSmsMarketingOptIn:n,afterContactExtensions:i,renderAsVaulted:t,children:l}){const{MarketingDisclosure:r}=X();return e||n||i?a(se,{target:"cart.buyerIdentity",children:a(Kn,{condition:!t,children:a(u,{spacing:t?"base":void 0,padding:t?["base","none","none","none"]:void 0,children:[(e||n)&&a(u,{spacing:e&&n?"base":"none",children:[e&&a(r,{}),n&&a(un,{})]}),i&&a(ne,{extensions:i}),l]})})}):l}function st({extensions:e,hideDivider:n="always"}){return a(gn,{hideDivider:n,children:a(ne,{spacing:"base",extensions:e})})}}}}));
