System.register(["./app-legacy.Dbq41J9R.js"],(function(e,n){"use strict";var o,r,a,l,t,i,c,s,u,d,h,p,m,b,g,v,y,_,f,k,L,I,N,C,w,S,D,x,z,A,O,q,B,E,P,R,W,M;return{setters:[e=>{o=e.bC,r=e.aW,a=e.bD,l=e.bE,t=e.ao,i=e.D,c=e.aO,s=e.a,u=e.ah,d=e.c,h=e.bd,p=e.a_,m=e.V,b=e.P,g=e.ag,v=e.y,y=e.I,_=e.ak,f=e.a8,k=e.bF,L=e.bG,I=e.bH,N=e.bI,C=e.bJ,w=e.aB,S=e.bK,D=e.aD,x=e.B,z=e.bL,A=e.bM,O=e.aR,q=e.bN,B=e.bO,E=e.bP,P=e.b0,R=e.l,W=e.L,M=e.a9}],execute:function(){function n({shopId:e,shopName:n,shopLogo:o,amount:r,showDivider:a,isLocalShop:l}){const[t,i]=u(!1),c=d(),z=h();return s(x,{children:[s(p,{columns:["auto","fill"],spacing:"base",children:[s(m,{children:s(b,{size:"small",src:o,alt:n})}),s(m,{blockAlignment:"center",children:[s(g,{"aria-expanded":t,"aria-controls":`separate-payments-collapsible-${e}`,onClick:()=>i(!t),children:s(p,{columns:["fill","auto"],spacing:"base",children:[s(v,{type:"strong",children:n}),s(p,{columns:"auto",spacing:"small200",blockAlignment:"center",children:[!t&&s(v,{type:"strong",children:z(r.amount,{currency:r.currencyCode,form:"short"})}),s(y,{type:t?"chevron-up":"chevron-down",size:"small-200"})]})]})}),s(_,{open:t,id:`separate-payments-collapsible-${e}`,children:[s(f,{spacing:"tight"}),s(k,{title:c("order_summary.cost_table_title"),children:[s(L,{shopId:e}),l&&s(I,{disableTooltip:!0}),s(N,{children:[s(C,{children:s(w,{level:1,children:c("order_summary.total_label")})}),s(S,{children:s(w,{level:1,children:z(r.amount,{currency:r.currencyCode,form:"short"})})})]})]})]})]})]}),a&&s(D,{direction:"inline",borderWidth:"base"})]})}e({R:function({children:e}){const n=r(),o=a(),u=l(),d=t(),h=t(),p=i();return c((e=>{d.current=void 0,h.current=void 0,"violations"in e&&(d.current=e.violations.map((e=>e.code))),"reasons"in e&&(h.current=e.reasons)})),s("div",{onClickCapture:function(e){var r;e.detail>2&&(n.counter({name:"pay_now_rage_click",value:1}),n.log("rage_click_capture_pay_now_rage_click_detected","pay_now_rage_click",{customerProfile:null==u?void 0:u.__typename,numberOfErrors:null!==(r=null==o?void 0:o.numberOfErrors())&&void 0!==r?r:"unknown",lastInterceptionReasons:h.current,lastViolations:d.current,blocked:p}))},children:e})},S:function(){var e;const o=d(),r=h(),{value:a,loading:l}=z(),t=A(),{name:i,id:c,brandSettings:u,remoteShopsConfigMap:g}=O(),y=q(B),_=E((()=>{const e=[];for(const[r,a]of t){if(!a)continue;if(r===c){var n;e.push({shopName:i,shopLogo:null==u||null===(n=u.squareLogo)||void 0===n?void 0:n.url,shopId:c,amount:a});continue}const l=null==g?void 0:g.get(r);var o;l&&e.push({shopName:l.name,shopId:r,shopLogo:null===(o=l.brandSettings)||void 0===o||null===(o=o.squareLogo)||void 0===o?void 0:o.url,amount:a})}return e}),[t,c,i,null==u||null===(e=u.squareLogo)||void 0===e?void 0:e.url,g]);if(l||!a||a&&t.size<2)return null;const f=s(W,{textDecoration:"none",overlay:s(P,{heading:o("payment.payments"),children:s(x,{spacing:"base",children:_.map(((e,o)=>y?s(n,{shopId:e.shopId,shopName:e.shopName,shopLogo:e.shopLogo,amount:e.amount,showDivider:o!==_.length-1,isLocalShop:e.shopId===c},e.shopId):s(R,{children:[s(p,{columns:["auto","fill","auto"],spacing:"base",children:[s(m,{children:s(b,{size:"small",src:e.shopLogo,alt:e.shopName})}),s(m,{blockAlignment:"center",children:s(v,{children:e.shopName})}),s(m,{blockAlignment:"center",children:s(v,{type:"strong",children:r(e.amount.amount,{currency:e.amount.currencyCode,form:"short"})})})]}),o!==_.length-1&&s(D,{direction:"inline",borderWidth:"base"})]},e.shopName||o)))})}),children:o("payment.separate_payments_text")});return s(M,{color:"subdued",children:o("payment.separate_payments_label",{separate_payments_link:f})})},u:function(){const{value:e}=o();return Boolean(e)}})}}}));
